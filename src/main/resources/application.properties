# ============================================
# EMAIL CONFIGURATION (Spring Mail)
# ============================================
# ??? ???????????? ????????? Mailtrap, Gmail ??? ?????? SMTP ??????
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=your-email@gmail.com
spring.mail.password=your-app-password
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# ??? ?????????? ????? ???????????? Mailtrap (https://mailtrap.io/)
# spring.mail.host=sandbox.smtp.mailtrap.io
# spring.mail.port=2525
# spring.mail.username=your-mailtrap-username
# spring.mail.password=your-mailtrap-password



spring.application.name=pain_helper_back
# FHIR Server Configuration
fhir.server.url=http://hapi.fhir.org/baseR4
fhir.connection.timeout=30000
fhir.socket.timeout=30000


spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console


spring.jpa.hibernate.ddl-auto=update

#spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.url=jdbc:h2:file:./data/testdb;DB_CLOSE_ON_EXIT=FALSE
#//spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
#spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.maximum-pool-size=5
spring.liquibase.enabled=false
server.port=8080

# MongoDB Configuration -  Analytics Logging
# ===== Nick?s MongoDB  =====
# spring.data.mongodb.auto-index-creation=true
# spring.data.mongodb.uri=${MONGODB_URI}

# Async Configuration
spring.task.execution.pool.core-size=5
spring.task.execution.pool.max-size=10
spring.task.execution.pool.queue-capacity=100

# Performance SLA Monitoring Configuration
performance.sla.enabled=true
performance.sla.async-recording=true

# Backup Configuration
backup.h2.directory=./backups/h2
backup.mongo.directory=./backups/mongodb
backup.retention.days=30
backup.mongo.mongodump.path=mongodump
backup.mongo.mongorestore.path=mongorestore

# Pain Escalation Configuration
#pain.escalation.min-vas-increase=2
#pain.escalation.min-dose-interval-hours=4
#pain.escalation.critical-vas-level=8
#pain.escalation.high-vas-level=6
#pain.escalation.trend-analysis-period-hours=24
#pain.escalation.max-escalations-per-period=3

# ===== John's MongoDB  =====
spring.data.mongodb.uri=mongodb+srv://${Username}:${Password}@clusterpma.xivmhrt.mongodb.net/?retryWrites=true&w=majority&appName=ClusterPMA
spring.data.mongodb.auto-index-creation=true
spring.data.mongodb.database=analyticsdb
#spring.data.mongodb.uri=${MONGODB_URI}